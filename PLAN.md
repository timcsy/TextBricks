# TextBricks - 開發計畫與待辦事項

> 📋 **未來規劃和進行中的任務**
> 已完成的工作請查看 [specs/VERSION_HISTORY.md](./specs/VERSION_HISTORY.md)

---

## 🎯 當前優先級

### 高優先級 (v0.3.0)

- [ ] **文檔完善**
  - [ ] 在 TextBricks Manager 中測試所有 C 語言模板載入
  - [ ] 驗證所有模板的 JSON 格式正確性
  - [ ] 測試模板在編輯器中的插入功能
  - [ ] 完善 TEMPLATE_GUIDE.md 的範例

- [ ] **Provider 模組化拆分**
  - ✅ Step 1: Manager.js 模組化拆分 (5,753 行 → 21 個模組)
  - ✅ Step 2: Templates Panel 模組化拆分 (12 個功能模組)
  - [ ] Step 3: ManagerWebviewProvider 拆分 (2,088 行 → 模組化)
  - [ ] Step 4: TemplateWebviewProvider 拆分 (1,410 行 → 模組化)

### 中優先級

- [ ] **測試覆蓋率提升**
  - [ ] Core 包單元測試
  - [ ] ScopeManager 測試
  - [ ] TemplateRepository 測試
  - [ ] RecommendationService 測試

- [ ] **效能優化**
  - [ ] 模板載入效能分析
  - [ ] Webview 渲染優化
  - [ ] 大型 Scope 載入優化

### 低優先級

- [ ] **社群準備**
  - [ ] README.md 完善（使用說明、截圖）
  - [ ] 貢獻指南（CONTRIBUTING.md）
  - [ ] 問題模板（GitHub Issues templates）

---

## 📚 C 語言模板系統擴充（可選）

> ✅ **已完成**: 223 個檔案，192 個模板，11 個主題層級
> ✅ **達成率**: 103.7% (原目標 215-415 個項目)
> ✅ **已納入版本控制**: data/local/c/ 現已加入 git
>
> 以下為可選的進一步擴充方向

### 01-basics 可擴充
- [ ] 更多變數相關模板（const、型別轉換、變數範圍）
- [ ] 完整的比較運算子（<、>、<=、>=）
- [ ] 賦值運算子（+=、-=、*=、/=）
- [ ] 遞增遞減運算子（++、--）
- [ ] 更多 printf/scanf 格式化範例

### 02-control-flow 可擴充
- [ ] if-else if-else 多重條件
- [ ] 巢狀 if
- [ ] break 和 continue
- [ ] 巢狀迴圈範例
- [ ] goto 語句（較少使用）

### 03-10 進階模板可擴充
- [ ] **03-functions**: 可變參數函式、函式指標、回呼函式
- [ ] **04-arrays**: 更多排序演算法、搜尋演算法
- [ ] **05-strings**: 更多字串處理函式、字串分割
- [ ] **06-pointers**: 雙重指標、函式指標陣列
- [ ] **07-structures**: 聯合（union）、位元欄位
- [ ] **08-files**: 隨機存取、錯誤處理
- [ ] **09-memory**: 記憶體池、智慧指標模擬
- [ ] **10-advanced**: 多檔案專案、條件編譯進階技巧

---

## 🚀 v0.4.0 規劃 - Blockly 整合

### 核心目標
將文字模板轉換為視覺化積木編程介面

### 主要功能
- [ ] **Blockly 編輯器整合**
  - [ ] 在 Webview 中嵌入 Blockly
  - [ ] 自訂 Blockly 主題（符合 TextBricks 設計）
  - [ ] 基本積木庫（變數、運算、控制流程）

- [ ] **模板 ↔ Blockly 轉換**
  - [ ] 序列化（Blockly → 文字模板）
  - [ ] 結構化（文字模板 → Blockly）
  - [ ] 意圖識別引擎

- [ ] **積木庫管理**
  - [ ] 從模板自動生成積木定義
  - [ ] 積木類別組織
  - [ ] 自訂積木編輯器

### 技術挑戰
- 如何表示複雜的程式結構
- 不同語言的積木統一表示
- 積木與文字的雙向同步

---

## 🌐 v0.5.0 規劃 - Node Flow 整合

### 核心目標
視覺化程式模組間的連接和資料流

### 主要功能
- [ ] **Node Flow 編輯器**
  - [ ] 節點編輯器基礎框架
  - [ ] 節點和連線視覺化
  - [ ] 縮放和平移

- [ ] **程式分析**
  - [ ] 依賴關係分析
  - [ ] 資料流追蹤
  - [ ] 函式調用圖生成

- [ ] **多層級視圖**
  - [ ] 函式級視圖
  - [ ] 模組級視圖
  - [ ] 系統級視圖

### 技術挑戰
- 大型專案的圖形性能
- 自動佈局算法
- 與 Blockly 的整合

---

## 🔮 v1.0.0 規劃 - 社群與 AI

### 社群平台
- [ ] **模板市場**
  - [ ] 模板分享平台
  - [ ] 評分和評論系統
  - [ ] 模板搜尋和推薦

- [ ] **協作功能**
  - [ ] 團隊 Scope 共享
  - [ ] 版本控制整合
  - [ ] 協作編輯

### AI 功能
- [ ] **意圖理解**
  - [ ] 自然語言 → 模板
  - [ ] 程式碼 → 意圖描述
  - [ ] 智慧補全

- [ ] **學習路徑**
  - [ ] AI 推薦學習順序
  - [ ] 個人化模板推薦
  - [ ] 進度追蹤

---

## 🛠️ 技術債務

### 程式碼品質
- ✅ ESLint 警告修正和 Jest 配置清理
- [ ] 完整的 TypeScript 嚴格模式檢查
- [ ] 移除所有 console.log（改用 platform logging）
- [ ] 統一錯誤處理模式

### 架構改進
- ✅ CSS 模組化重組 (採用 `-panel` 命名慣例)
- ✅ assets/js 目錄結構重組
- [ ] HTML 模板完全分離（TemplateLoader 完成度）
- [ ] 前端狀態管理統一

### 效能優化
- [ ] Virtual DOM 或 diff 算法（避免完整重渲染）
- [ ] 模板懶載入
- [ ] Webview 記憶體優化

---

## 📦 其他語言模板系統

### Python 模板系統
- [ ] 基礎語法（變數、型別、運算子）
- [ ] 控制流程（if、for、while）
- [ ] 函式和模組
- [ ] 物件導向（class、繼承）
- [ ] 常用庫（numpy、pandas、matplotlib）

### JavaScript 模板系統
- [ ] ES6+ 語法
- [ ] DOM 操作
- [ ] 非同步編程（Promise、async/await）
- [ ] React/Vue 常用模式
- [ ] Node.js 後端

### 其他語言
- [ ] Java
- [ ] Go
- [ ] Rust
- [ ] TypeScript

---

## 🎨 UI/UX 改進

### Templates Panel
- [ ] 模板預覽浮動視窗（hover 顯示完整內容）
- [ ] 拖曳排序（自訂模板順序）
- [ ] 鍵盤快捷鍵（快速搜尋、插入）

### Manager Panel
- [ ] 批次操作（多選刪除、移動）
- [ ] 模板編輯器語法高亮
- [ ] 即時預覽（編輯時即時看到效果）

### Documentation Panel
- [ ] 互動式範例（可直接執行）
- [ ] 程式碼 diff 顯示（比較不同版本）
- [ ] 內嵌影片教學

---

## 🌍 多平台支援

### Vim/Neovim 插件
- [ ] 核心功能移植
- [ ] Lua API 設計
- [ ] 模板選擇 UI（telescope、fzf）

### Web 版本
- [ ] 瀏覽器擴展（Chrome、Firefox）
- [ ] 獨立 Web 應用
- [ ] 雲端同步

### CLI 工具
- [ ] 命令列介面
- [ ] 腳本自動化
- [ ] CI/CD 整合

---

## 📊 數據分析與反饋

### 使用分析
- [ ] 匿名使用統計（選擇性）
- [ ] 最受歡迎模板排行
- [ ] 使用模式分析

### 用戶反饋
- [ ] 應用內反饋系統
- [ ] Bug 回報簡化
- [ ] 功能請求投票

---

## 📝 文檔完善

### 用戶文檔
- [ ] 快速入門指南
- [ ] 進階使用技巧
- [ ] 常見問題 FAQ
- [ ] 影片教學

### 開發者文檔
- [ ] 架構深入解析
- [ ] API 參考文檔
- [ ] 插件開發指南
- [ ] 貢獻指南

---

## 🔄 持續改進

### 定期任務
- [ ] 每月代碼審查
- [ ] 每季性能評估
- [ ] 依賴更新檢查
- [ ] 安全漏洞掃描

### 社群維護
- [ ] Issue 回應（< 48 小時）
- [ ] PR 審查（< 1 週）
- [ ] 版本發布（每 2-3 月）
- [ ] 變更日誌維護

---

*最後更新: 2025-10-19*
*詳細完成記錄請查看 [specs/VERSION_HISTORY.md](./specs/VERSION_HISTORY.md)*
